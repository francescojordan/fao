<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>{% block title %}FOUNDATION!{% endblock %}</title><link rel="stylesheet" href="https://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.min.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css" rel='stylesheet' type='text/css'>
        {% block stylesheets %}
        <!-- FOUNDATION -->
              <link rel="stylesheet" type="text/css" href="{{ asset('foundation/css/app.css') }}">
              <link rel="stylesheet" type="text/css" href="{{ asset('foundation/css/foundation.css') }}">
              <link rel="stylesheet" type="text/css" href="{{ asset('foundation/css/foundation.min.css') }}">


        {% endblock %}

    </head>
    <body>
 

<style>.slide-in-down.mui-enter,.slide-in-left.mui-enter,.slide-in-up.mui-enter,.slide-in-right.mui-enter,.slide-out-down.mui-leave,.slide-out-right.mui-leave,.slide-out-up.mui-leave,.slide-out-left.mui-leave,.fade-in.mui-enter,.fade-out.mui-leave,.hinge-in-from-top.mui-enter,.hinge-in-from-right.mui-enter,.hinge-in-from-bottom.mui-enter,.hinge-in-from-left.mui-enter,.hinge-in-from-middle-x.mui-enter,.hinge-in-from-middle-y.mui-enter,.hinge-out-from-top.mui-leave,.hinge-out-from-right.mui-leave,.hinge-out-from-bottom.mui-leave,.hinge-out-from-left.mui-leave,.hinge-out-from-middle-x.mui-leave,.hinge-out-from-middle-y.mui-leave,.scale-in-up.mui-enter,.scale-in-down.mui-enter,.scale-out-up.mui-leave,.scale-out-down.mui-leave,.spin-in.mui-enter,.spin-out.mui-leave,.spin-in-ccw.mui-enter,.spin-out-ccw.mui-leave{transition-duration:500ms;transition-timing-function:linear;}.slide-in-down.mui-enter{-webkit-transform:translateY(-100%);transform:translateY(-100%);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;-webkit-backface-visibility:hidden;backface-visibility:hidden;}.slide-in-down.mui-enter.mui-enter-active{-webkit-transform:translateY(0);transform:translateY(0);}.slide-in-left.mui-enter{-webkit-transform:translateX(-100%);transform:translateX(-100%);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;-webkit-backface-visibility:hidden;backface-visibility:hidden;}.slide-in-left.mui-enter.mui-enter-active{-webkit-transform:translateX(0);transform:translateX(0);}.slide-in-up.mui-enter{-webkit-transform:translateY(100%);transform:translateY(100%);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;-webkit-backface-visibility:hidden;backface-visibility:hidden;}.slide-in-up.mui-enter.mui-enter-active{-webkit-transform:translateY(0);transform:translateY(0);}.slide-in-right.mui-enter{-webkit-transform:translateX(100%);transform:translateX(100%);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;-webkit-backface-visibility:hidden;backface-visibility:hidden;}.slide-in-right.mui-enter.mui-enter-active{-webkit-transform:translateX(0);transform:translateX(0);}.slide-out-down.mui-leave{-webkit-transform:translateY(0);transform:translateY(0);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;-webkit-backface-visibility:hidden;backface-visibility:hidden;}.slide-out-down.mui-leave.mui-leave-active{-webkit-transform:translateY(-100%);transform:translateY(-100%);}.slide-out-right.mui-leave{-webkit-transform:translateX(0);transform:translateX(0);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;-webkit-backface-visibility:hidden;backface-visibility:hidden;}.slide-out-right.mui-leave.mui-leave-active{-webkit-transform:translateX(100%);transform:translateX(100%);}.slide-out-up.mui-leave{-webkit-transform:translateY(0);transform:translateY(0);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;-webkit-backface-visibility:hidden;backface-visibility:hidden;}.slide-out-up.mui-leave.mui-leave-active{-webkit-transform:translateY(-100%);transform:translateY(-100%);}.slide-out-left.mui-leave{-webkit-transform:translateX(0);transform:translateX(0);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;-webkit-backface-visibility:hidden;backface-visibility:hidden;}.slide-out-left.mui-leave.mui-leave-active{-webkit-transform:translateX(-100%);transform:translateX(-100%);}.fade-in.mui-enter{opacity:0;transition-property:opacity;}.fade-in.mui-enter.mui-enter-active{opacity:1;}.fade-out.mui-leave{opacity:1;transition-property:opacity;}.fade-out.mui-leave.mui-leave-active{opacity:0;}.hinge-in-from-top.mui-enter{-webkit-transform:perspective(2000px) rotateX(-90deg);transform:perspective(2000px) rotateX(-90deg);-webkit-transform-origin:top;transform-origin:top;transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:0;}.hinge-in-from-top.mui-enter.mui-enter-active{-webkit-transform:perspective(2000px) rotate(0deg);transform:perspective(2000px) rotate(0deg);opacity:1;}.hinge-in-from-right.mui-enter{-webkit-transform:perspective(2000px) rotateY(-90deg);transform:perspective(2000px) rotateY(-90deg);-webkit-transform-origin:right;transform-origin:right;transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:0;}.hinge-in-from-right.mui-enter.mui-enter-active{-webkit-transform:perspective(2000px) rotate(0deg);transform:perspective(2000px) rotate(0deg);opacity:1;}.hinge-in-from-bottom.mui-enter{-webkit-transform:perspective(2000px) rotateX(90deg);transform:perspective(2000px) rotateX(90deg);-webkit-transform-origin:bottom;transform-origin:bottom;transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:0;}.hinge-in-from-bottom.mui-enter.mui-enter-active{-webkit-transform:perspective(2000px) rotate(0deg);transform:perspective(2000px) rotate(0deg);opacity:1;}.hinge-in-from-left.mui-enter{-webkit-transform:perspective(2000px) rotateY(90deg);transform:perspective(2000px) rotateY(90deg);-webkit-transform-origin:left;transform-origin:left;transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:0;}.hinge-in-from-left.mui-enter.mui-enter-active{-webkit-transform:perspective(2000px) rotate(0deg);transform:perspective(2000px) rotate(0deg);opacity:1;}.hinge-in-from-middle-x.mui-enter{-webkit-transform:perspective(2000px) rotateX(-90deg);transform:perspective(2000px) rotateX(-90deg);-webkit-transform-origin:center;transform-origin:center;transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:0;}.hinge-in-from-middle-x.mui-enter.mui-enter-active{-webkit-transform:perspective(2000px) rotate(0deg);transform:perspective(2000px) rotate(0deg);opacity:1;}.hinge-in-from-middle-y.mui-enter{-webkit-transform:perspective(2000px) rotateY(-90deg);transform:perspective(2000px) rotateY(-90deg);-webkit-transform-origin:center;transform-origin:center;transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:0;}.hinge-in-from-middle-y.mui-enter.mui-enter-active{-webkit-transform:perspective(2000px) rotate(0deg);transform:perspective(2000px) rotate(0deg);opacity:1;}.hinge-out-from-top.mui-leave{-webkit-transform:perspective(2000px) rotate(0deg);transform:perspective(2000px) rotate(0deg);-webkit-transform-origin:top;transform-origin:top;transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:1;}.hinge-out-from-top.mui-leave.mui-leave-active{-webkit-transform:perspective(2000px) rotateX(-90deg);transform:perspective(2000px) rotateX(-90deg);opacity:0;}.hinge-out-from-right.mui-leave{-webkit-transform:perspective(2000px) rotate(0deg);transform:perspective(2000px) rotate(0deg);-webkit-transform-origin:right;transform-origin:right;transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:1;}.hinge-out-from-right.mui-leave.mui-leave-active{-webkit-transform:perspective(2000px) rotateY(-90deg);transform:perspective(2000px) rotateY(-90deg);opacity:0;}.hinge-out-from-bottom.mui-leave{-webkit-transform:perspective(2000px) rotate(0deg);transform:perspective(2000px) rotate(0deg);-webkit-transform-origin:bottom;transform-origin:bottom;transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:1;}.hinge-out-from-bottom.mui-leave.mui-leave-active{-webkit-transform:perspective(2000px) rotateX(90deg);transform:perspective(2000px) rotateX(90deg);opacity:0;}.hinge-out-from-left.mui-leave{-webkit-transform:perspective(2000px) rotate(0deg);transform:perspective(2000px) rotate(0deg);-webkit-transform-origin:left;transform-origin:left;transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:1;}.hinge-out-from-left.mui-leave.mui-leave-active{-webkit-transform:perspective(2000px) rotateY(90deg);transform:perspective(2000px) rotateY(90deg);opacity:0;}.hinge-out-from-middle-x.mui-leave{-webkit-transform:perspective(2000px) rotate(0deg);transform:perspective(2000px) rotate(0deg);-webkit-transform-origin:center;transform-origin:center;transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:1;}.hinge-out-from-middle-x.mui-leave.mui-leave-active{-webkit-transform:perspective(2000px) rotateX(-90deg);transform:perspective(2000px) rotateX(-90deg);opacity:0;}.hinge-out-from-middle-y.mui-leave{-webkit-transform:perspective(2000px) rotate(0deg);transform:perspective(2000px) rotate(0deg);-webkit-transform-origin:center;transform-origin:center;transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:1;}.hinge-out-from-middle-y.mui-leave.mui-leave-active{-webkit-transform:perspective(2000px) rotateY(-90deg);transform:perspective(2000px) rotateY(-90deg);opacity:0;}.scale-in-up.mui-enter{-webkit-transform:scale(0.5);transform:scale(0.5);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:0;}.scale-in-up.mui-enter.mui-enter-active{-webkit-transform:scale(1);transform:scale(1);opacity:1;}.scale-in-down.mui-enter{-webkit-transform:scale(1.5);transform:scale(1.5);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:0;}.scale-in-down.mui-enter.mui-enter-active{-webkit-transform:scale(1);transform:scale(1);opacity:1;}.scale-out-up.mui-leave{-webkit-transform:scale(1);transform:scale(1);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:1;}.scale-out-up.mui-leave.mui-leave-active{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:0;}.scale-out-down.mui-leave{-webkit-transform:scale(1);transform:scale(1);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:1;}.scale-out-down.mui-leave.mui-leave-active{-webkit-transform:scale(0.5);transform:scale(0.5);opacity:0;}.spin-in.mui-enter{-webkit-transform:rotate(-0.75turn);transform:rotate(-0.75turn);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:0;}.spin-in.mui-enter.mui-enter-active{-webkit-transform:rotate(0);transform:rotate(0);opacity:1;}.spin-out.mui-leave{-webkit-transform:rotate(0);transform:rotate(0);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:1;}.spin-out.mui-leave.mui-leave-active{-webkit-transform:rotate(0.75turn);transform:rotate(0.75turn);opacity:0;}.spin-in-ccw.mui-enter{-webkit-transform:rotate(0.75turn);transform:rotate(0.75turn);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:0;}.spin-in-ccw.mui-enter.mui-enter-active{-webkit-transform:rotate(0);transform:rotate(0);opacity:1;}.spin-out-ccw.mui-leave{-webkit-transform:rotate(0);transform:rotate(0);transition-property:-webkit-transform,opacity;transition-property:transform,opacity;opacity:1;}.spin-out-ccw.mui-leave.mui-leave-active{-webkit-transform:rotate(-0.75turn);transform:rotate(-0.75turn);opacity:0;}.slow{transition-duration:750ms!important;}.fast{transition-duration:250ms!important;}.linear{transition-timing-function:linear!important;}.ease{transition-timing-function:ease!important;}.ease-in{transition-timing-function:ease-in!important;}.ease-out{transition-timing-function:ease-out!important;}.ease-in-out{transition-timing-function:ease-in-out!important;}.bounce-in{transition-timing-function:cubic-bezier(0.485,0.155,0.24,1.245)!important;}.bounce-out{transition-timing-function:cubic-bezier(0.485,0.155,0.515,0.845)!important;}.bounce-in-out{transition-timing-function:cubic-bezier(0.76,-0.245,0.24,1.245)!important;}.short-delay{transition-delay:300ms!important;}.long-delay{transition-delay:700ms!important;}.shake{-webkit-animation-name:shake-7;animation-name:shake-7;}@-webkit-keyframes shake-7{0%,10%,20%,30%,40%,50%,60%,70%,80%,90%{-webkit-transform:translateX(7%);transform:translateX(7%);}5%,15%,25%,35%,45%,55%,65%,75%,85%,95%{-webkit-transform:translateX(-7%);transform:translateX(-7%);}}@keyframes shake-7{0%,10%,20%,30%,40%,50%,60%,70%,80%,90%{-webkit-transform:translateX(7%);transform:translateX(7%);}5%,15%,25%,35%,45%,55%,65%,75%,85%,95%{-webkit-transform:translateX(-7%);transform:translateX(-7%);}}.spin-cw{-webkit-animation-name:spin-cw-1turn;animation-name:spin-cw-1turn;}@-webkit-keyframes spin-cw-1turn{0%{-webkit-transform:rotate(-1turn);transform:rotate(-1turn);}100%{-webkit-transform:rotate(0);transform:rotate(0);}}@keyframes spin-cw-1turn{0%{-webkit-transform:rotate(-1turn);transform:rotate(-1turn);}100%{-webkit-transform:rotate(0);transform:rotate(0);}}.spin-ccw{-webkit-animation-name:spin-cw-1turn;animation-name:spin-cw-1turn;}@keyframes spin-cw-1turn{0%{-webkit-transform:rotate(0);transform:rotate(0);}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn);}}.wiggle{-webkit-animation-name:wiggle-7deg;animation-name:wiggle-7deg;}@-webkit-keyframes wiggle-7deg{40%,50%,60%{-webkit-transform:rotate(7deg);transform:rotate(7deg);}35%,45%,55%,65%{-webkit-transform:rotate(-7deg);transform:rotate(-7deg);}0%,30%,70%,100%{-webkit-transform:rotate(0);transform:rotate(0);}}@keyframes wiggle-7deg{40%,50%,60%{-webkit-transform:rotate(7deg);transform:rotate(7deg);}35%,45%,55%,65%{-webkit-transform:rotate(-7deg);transform:rotate(-7deg);}0%,30%,70%,100%{-webkit-transform:rotate(0);transform:rotate(0);}}.infinite{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;}.slow{-webkit-animation-duration:750ms!important;animation-duration:750ms!important;}.fast{-webkit-animation-duration:250ms!important;animation-duration:250ms!important;}.linear{-webkit-animation-timing-function:linear!important;animation-timing-function:linear!important;}.ease{-webkit-animation-timing-function:ease!important;animation-timing-function:ease!important;}.ease-in{-webkit-animation-timing-function:ease-in!important;animation-timing-function:ease-in!important;}.ease-out{-webkit-animation-timing-function:ease-out!important;animation-timing-function:ease-out!important;}.ease-in-out{-webkit-animation-timing-function:ease-in-out!important;animation-timing-function:ease-in-out!important;}.bounce-in{-webkit-animation-timing-function:cubic-bezier(0.485,0.155,0.24,1.245)!important;animation-timing-function:cubic-bezier(0.485,0.155,0.24,1.245)!important;}.bounce-out{-webkit-animation-timing-function:cubic-bezier(0.485,0.155,0.515,0.845)!important;animation-timing-function:cubic-bezier(0.485,0.155,0.515,0.845)!important;}.bounce-in-out{-webkit-animation-timing-function:cubic-bezier(0.76,-0.245,0.24,1.245)!important;animation-timing-function:cubic-bezier(0.76,-0.245,0.24,1.245)!important;}.short-delay{-webkit-animation-delay:300ms!important;animation-delay:300ms!important;}.long-delay{-webkit-animation-delay:700ms!important;animation-delay:700ms!important;}</style>
 
<div class="top-bar">
<div class="top-bar-left">
<ul class="menu">
<li class="menu-text">CREA MAPPA</li>
<li><a href="#">VISUALIZZA MAPPA</a></li>
<li><a href="#">STO CAZZO</a></li>
</ul>
</div>
<div class="top-bar-right">
<ul class="menu">
<li><a href="#">STOCAZZO1</a></li>
<li><a href="#">STOCAZZO2</a></li>
</ul>
</div>
</div>
 
<div class="orbit" role="region" aria-label="Favorite Space Pictures" data-orbit>
{% block body %}{% endblock %}
</div>



<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="https://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.js"></script>
<script>
      $(document).foundation();
    </script>
<script type="text/javascript" src="https://intercom.zurb.com/scripts/zcom.js"></script>
    
        
        {% block javascripts %}
           <!-- COSE FOUNDATION -->
           
            <script src="{{ asset('foundation/js/app.js') }}"></script>
            <script src="{{ asset('foundation/js/vendor/foundation.js') }}"></script>
            <script src="{{ asset('foundation/js/vendor/foundation.min.js') }}"></script>
   
            <!-- COSE LEAFLET -->
            <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />

    <script src="{{ asset('libs/leaflet-src.js') }}"></script>
   
   
   
   <script src="{{ asset('libs/leaflet-src.js') }}"></script>
    <link rel="stylesheet" href="{{ asset('libs/leaflet.css') }}"/>

    <script src="{{ asset('src/Leaflet.draw.js') }}"></script>
    <script src="{{ asset('src/Leaflet.Draw.Event.js') }}"></script>
    <link rel="stylesheet" href="{{ asset('src/leaflet.draw.css') }}"/>

    <script src="{{ asset('src/Toolbar.js') }}"></script>
    <script src="{{ asset('src/Tooltip.js') }}"></script>

    <script src="{{ asset('src/ext/GeometryUtil.js') }}"></script>
    <script src="{{ asset('src/ext/LatLngUtil.js') }}"></script>
    <script src="{{ asset('src/ext/LineUtil.Intersect.js') }}"></script>
    <script src="{{ asset('src/ext/Polygon.Intersect.js') }}"></script>
    <script src="{{ asset('src/ext/Polyline.Intersect.js') }}"></script>
    <script src="{{ asset('src/ext/TouchEvents.js') }}"></script>

    <script src="{{ asset('src/draw/DrawToolbar.js') }}"></script>
    <script src="{{ asset('src/draw/handler/Draw.Feature.js') }}"></script>
    <script src="{{ asset('src/draw/handler/Draw.SimpleShape.js') }}"></script>
    <script src="{{ asset('src/draw/handler/Draw.Polyline.js') }}"></script>
    <script src="{{ asset('src/draw/handler/Draw.Circle.js') }}"></script>
    <script src="{{ asset('src/draw/handler/Draw.Marker.js') }}"></script>
    <script src="{{ asset('src/draw/handler/Draw.Polygon.js') }}"></script>
    <script src="{{ asset('src/draw/handler/Draw.Rectangle.js') }}"></script>


    <script src="{{ asset('src/edit/EditToolbar.js') }}"></script>
    <script src="{{ asset('src/edit/handler/EditToolbar.Edit.js') }}"></script>
    <script src="{{ asset('src/edit/handler/EditToolbar.Delete.js') }}"></script>

    <script src="{{ asset('src/Control.Draw.js') }}"></script>

    <script src="{{ asset('src/edit/handler/Edit.Poly.js') }}"></script>
    <script src="{{ asset('src/edit/handler/Edit.SimpleShape.js') }}"></script>
    <script src="{{ asset('src/edit/handler/Edit.Circle.js') }}"></script>
    <script src="{{ asset('src/edit/handler/Edit.Rectangle.js') }}"></script>
    <script src="{{ asset('src/edit/handler/Edit.Marker.js') }}"></script>


    
    <!-- fine cose leaflet -->
    <script>
    var osmUrl = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
            osmAttrib = '&copy; <a href="http://openstreetmap.org/copyright">OpenStreetMap</a> contributors',
            osm = L.tileLayer(osmUrl, { maxZoom: 18, attribution: osmAttrib }),
            map = new L.Map('map', { center: new L.LatLng(43.49, 13.6), zoom: 13 }),
            drawnItems = L.featureGroup().addTo(map);

   //AGGIUNGI LAYERS (OSM/GOOGLE)
       L.control.layers({
        'osm': osm.addTo(map),
        "google": L.tileLayer('http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}', {
            attribution: 'google'
        })
    }, { 'drawlayer': drawnItems }, { position: 'topleft', collapsed: false }).addTo(map);
    map.addControl(new L.Control.Draw({
        edit: {
            featureGroup: drawnItems,
            poly: {
                allowIntersection: false
            }
        },
        draw: {
            polygon: {
                allowIntersection: false,
                showArea: true
            }
        }
    }));


//GESTISCO ESPORTAZIONE

 var featureGroup = L.featureGroup().addTo(map);
    map.on(L.Draw.Event.CREATED, function (event) {
        var layer = event.layer;
        drawnItems.addLayer(layer);
        featureGroup.addLayer(event.layer);

    });


//GESTISCO L'ESPORTAZIONE
 //SCARICO IL GEOJSON NEL CASO IN CUI HO DISEGNATO I POLIGONI 
        var drawControl = new L.Control.Draw({
            edit: {
                featureGroup: featureGroup
            }
        }).addTo(map);

 document.getElementById('export').onclick = function(e) {
            // Extract GeoJson from featureGroup
            var data = featureGroup.toGeoJSON();

            // Stringify the GeoJson
            var convertedData = 'text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(data));

            // Create export
            document.getElementById('export').setAttribute('href', 'data:' + convertedData);
            document.getElementById('export').setAttribute('download','data.js');
        }
        
        
</script>
        
        {% endblock %}
    </body>
</html>


<head>
 
</head>